% \LaTeX beamer theme Inspira Crea Transforma
% Basada en la Plantilla institucional de Power Point
% Autor: Alejandro G贸mez M. <agomez13@eafit.edu.co>


\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{beamerthemeEAFIT}[2015/06/06 EAFIT beamer theme]

\RequirePackage{ifthen}
\RequirePackage{xcolor}
\RequirePackage{tikz}

% 
\RequirePackage{helvet}
\renewcommand{\familydefault}{\sfdefault}

% Justificaci贸n 
\RequirePackage{ragged2e}
\justifying

\RequirePackage[utf8]{inputenc}

\def\beamer@EAFIT@fontc{none}
\def\beamer@EAFIT@language{EN}

\DeclareOptionBeamer{language}{\def\beamer@EAFIT@language{#1}}
\def\beamer@EAFIT@color{white}
\def\beamer@EAFIT@cover{white}

\DeclareOptionBeamer{color}{\def\beamer@EAFIT@color{#1}}
\DeclareOptionBeamer{cover}{\def\beamer@EAFIT@cover{#1}}
\DeclareOptionBeamer{fontc}{\def\beamer@EAFIT@fontc{#1}}

\ProcessOptionsBeamer

\definecolor{blu}{RGB}{0,0,102}
\definecolor{decoration}{RGB}{0,169,224}




\ifthenelse{\equal{\beamer@EAFIT@color}{white}}
{	
	\newcommand{\ailogo}{./logos/ai_blue.eps}
	\newcommand{\eafitlogo}{./logos/eafit_white.eps}
	
	\definecolor{background}{RGB}{255, 255, 255}	
	\definecolor{logo}{RGB}{255, 255, 255}
	\definecolor{bline}{RGB}{0,0,102}
	\definecolor{fontc}{RGB}{0,0,102}
	
	\setbeamercolor{block body}{bg=fontc!10,fg=blu}
	\setbeamercolor{block title}{bg=fontc,fg=background}
	
}{
	\ifthenelse{\equal{\beamer@EAFIT@color}{blue}}
	{		
		\newcommand{\ailogo}{./logos/ai_white.eps}
		\newcommand{\eafitlogo}{./logos/eafit_blue.eps}
		\definecolor{background}{RGB}{0,0,102}
		\definecolor{logo}{RGB}{0,0,102}
		\definecolor{bline}{RGB}{255, 255, 255}
		\definecolor{fontc}{RGB}{255, 255, 255}
		
		\setbeamercolor{block body}{bg=white,fg=background}
		\setbeamercolor{block title}{bg=background!20,fg=background}
		
	}{
	
		\ifthenelse{\equal{\beamer@EAFIT@color}{blue2}}
		{	
			\newcommand{\ailogo}{./logos/ai_blue.eps}
			\newcommand{\eafitlogo}{./logos/eafit_blue.eps}
			
			
			\definecolor{background}{RGB}{0,0,102}
			\definecolor{logo}{RGB}{255, 255, 255}
			\definecolor{bline}{RGB}{0,0,102}
			\definecolor{fontc}{RGB}{255, 255, 255}
			
			\setbeamercolor{block body}{bg=white,fg=background}
			\setbeamercolor{block title}{bg=background!20,fg=background}
			
			
		}{
			\newcommand{\ailogo}{./logos/ai_blue.eps}
			\newcommand{\eafitlogo}{./logos/eafit_white.eps}
	
			\definecolor{background}{RGB}{255, 255, 255}
			\definecolor{logo}{RGB}{255, 255, 255}
			\definecolor{bline}{RGB}{0,0,102}
			\definecolor{fontc}{RGB}{0,0,102}
			
			\setbeamercolor{block body}{bg=fontc!10,fg=blu}
			\setbeamercolor{block title}{bg=fontc,fg=background}
		}
	}
}

\ifthenelse{\equal{\beamer@EAFIT@cover}{white}}
{	
	\newcommand{\pailogo}{./logos/ai_white.eps}
	\newcommand{\peafitlogo}{./logos/eafit_white.eps}
	
	\setbeamercolor{Portada}{fg=blu,bg=white}
	
}{
	\ifthenelse{\equal{\beamer@EAFIT@cover}{blue}}
	{		
		\newcommand{\pailogo}{./logos/ai_blue.eps}
		\newcommand{\peafitlogo}{./logos/eafit_blue.eps}
		
		\setbeamercolor{Portada}{fg=white,bg=blu}
		
		
	}{
		\newcommand{\pailogo}{./logos/ai_white.eps}
		\newcommand{\peafitlogo}{./logos/eafit_white.eps}
		
		\setbeamercolor{Portada}{fg=blu,bg=white}
	}
}
% Blocks


\setbeamertemplate{blocks}[rounded]
\pgfdeclareverticalshading[lower.bg,upper.bg]{bmb@transition}{200cm}{%
	color(0pt)=(lower.bg); color(10pt)=(lower.bg); color(4pt)=(upper.bg)}

\ifthenelse{\equal{\beamer@EAFIT@fontc}{black}}{\definecolor{fontc}{RGB}{0,0,0}}{}


\newcommand{\affiliation}[1]{
\def\address{#1}
}

% Direcci贸n
\newcommand{\addresstext}{
  \address\\
  \insertdate\\
}

\renewcommand{\maketitle}{
	\begin{frame}
	\end{frame}

    % Titulo
	\begin{frame}
	\titlepage
	\end{frame}
}

% Outline Frame
\newcommand{\makeToC}[1][]{
	\begin{frame}{\ifthenelse{\equal{#1}{}}{\ifthenelse{\equal{\beamer@EAFIT@language}{EN}}%
		{Outline}{}%
		\ifthenelse{\equal{\beamer@EAFIT@language}{ES}}%
		{Contenido}{}}{#1}%
	}
    	\tableofcontents
	\end{frame}
}

% Adding Thanks
\renewcommand{\thanks}{
\begin{frame}[plain,noframenumbering]
	\begin{beamercolorbox}[ht=\paperheight,wd=\paperwidth, center]{Portada}

		\Large

		\ifthenelse{\equal{\beamer@EAFIT@language}{EN}}
		{\textbf{Thanks}}{}
		\ifthenelse{\equal{\beamer@EAFIT@language}{ES}}
		{\textbf{Gracias}}{}

		\vspace{0.5\paperheight}
		%\hspace{3cm}

	\end{beamercolorbox}
\end{frame}
}


\newlength{\@headerdist}
\setlength{\@headerdist}{5mm}
\def\address{$ $}


\ifthenelse{\equal{\beamer@EAFIT@language}{EN}}
{\RequirePackage[english]{babel}}{}
\ifthenelse{\equal{\beamer@EAFIT@language}{ES}}
{\RequirePackage[spanish]{babel}}{}

\mode<presentation>

\setbeamerfont{author}{size=\large}
\setbeamerfont{date}{size=\large}
\setbeamerfont{example text}{series=\bfseries}
\setbeamerfont{section}{series=\bfseries}
\setbeamercolor{structure}{fg=fontc}
\setbeamercolor{title}{fg=fontc}
\setbeamerfont{title}{series=\bfseries}
\setbeamerfont{block title}{series=\bfseries}
\setbeamercolor{normal text}{fg=fontc}
% Desactiva iconos de navegaci贸n
\setbeamertemplate{navigation symbols}{}


% Frame
\setbeamercolor{frametitle}{fg=fontc}

\setbeamerfont{frametitle}{series=\mdseries,size=\large}
\setbeamerfont{framesubtitle}{series=\mdseries,size=\large}

\setbeamertemplate{frametitle}{%
  \ifbeamer@plainframe%
  $ $%

  \else%
  \vspace{0.5cm}%
  \hspace{1.2cm} %
  \textbf{\insertframetitle}%
  \fi%
}

% Titulo
\setbeamertemplate{title page}{%
  \vspace{\@headerdist}%
  \centering%
  \vspace{1cm}
  \textbf{\large{\inserttitle}}%

  \textbf{\large{\insertsubtitle}}%
  \vfill%
  \vspace{2cm}%
  \textbf{\insertauthor}\\[3mm]%
  \scriptsize%
  \addresstext  
  \normalsize%
}


% Footnote
\setbeamercolor{footline}{fg=logo}
\setbeamertemplate{footline}{%
	\ifbeamer@plainframe%
    %
  \else
	  \ifnum\c@framenumber=1 % Portada

	  \else % Normal
	  \begin{beamercolorbox}[ht=1.6cm,wd=\paperwidth]{footlinecolor}
	    \leavevmode%
	    \hfill \fontsize{0.5}{0.5}{  \insertframenumber/\inserttotalframenumber }\hspace{0.8mm}%
	    \vspace{0.4mm}%
	  \end{beamercolorbox}
	  \fi
  \fi
}


\setbeamercolor{Portada2}{fg=logo,bg=background}

\setbeamercolor{plainc}{fg=blu,bg=white}

\setbeamertemplate{background} {
	\ifbeamer@plainframe%
    	
    	\begin{beamercolorbox}[ht=\paperheight,wd=\paperwidth, center]{plainc}
    		

    		
    	\end{beamercolorbox}
  \else
		\ifnum\c@framenumber=1 % Portada
		
			\hspace{\beamer@leftmargin}%
			\begin{beamercolorbox}[ht=\paperheight,wd=\paperwidth, center]{Portada}

				\begin{tikzpicture}[x=0mm]
				
				\draw[opacity=0,line width=0mm] (0mm,0mm) rectangle (\paperwidth,\paperheight); % Enlarge the bounding box 
				
				
				\node[text=gray!70] at (15.33745mm, 4.276640625mm){
										\fontsize{4.7}{4.7}{
										\ifthenelse{\equal{\beamer@EAFIT@language}{EN}}
										{\textbf{Vigilada Mineducaci\'on}}{}
										\ifthenelse{\equal{\beamer@EAFIT@language}{ES}}
										{\textbf{Vigilada Mineducaci\'on}}{}}};
				
				\node at (0.5\paperwidth,0.5\paperheight){
					\fontsize{17}{17}{
						\ifthenelse{\equal{\beamer@EAFIT@language}{EN}}
										{\textbf{Inspire Create Transform}}{}
										\ifthenelse{\equal{\beamer@EAFIT@language}{ES}}
										{\textbf{Inspira Crea Transforma }}{}}};
				
				\node at (\paperwidth-12.03mm, 6.95mm) {\includegraphics[width=17mm]{\pailogo}};
				\node at (12.7531mm, \paperheight-7.6509375mm) {\includegraphics[width=15.81mm]{\peafitlogo}};
				
				\end{tikzpicture}
				

			\end{beamercolorbox}

		\else % Normal
		\hspace{\beamer@leftmargin}%
			\begin{beamercolorbox}[ht=\paperheight,wd=\paperwidth, center]{Portada2}
			
			\begin{tikzpicture}[x=0mm]
			
			\draw[opacity=0,line width=0mm] (0mm,0mm) rectangle (\paperwidth,\paperheight); 
			
			\fill[bline] (0mm, 0mm) rectangle (\paperwidth,14.7825mm); 
			
			\fill[decoration] (0.51656\paperwidth, 13.9483mm) rectangle (\paperwidth,14.7825mm); 
			
			\node[ text=logo] (ad) at (28mm, 7.027mm){			\fontsize{11}{11}{
					
					\ifthenelse{\equal{\beamer@EAFIT@language}{EN}}
					{\textbf{Inspire Create Transform}}{}
					\ifthenelse{\equal{\beamer@EAFIT@language}{ES}}
					{\textbf{Inspira Crea Transforma}}{}}  \textcolor{gray!70}{ $\mid$ \hspace{1mm}}  };
				
			\node [text=gray!70, xshift=8mm] at (ad.east)  {\fontsize{5}{5}{ \textbf{Vigilada Mineducaci\'on}} };
				

			
			\node at (\paperwidth-12.03mm, 6.95mm) {\includegraphics[width=17mm]{\ailogo}};
			\node at (12.7531mm, \paperheight-7.6509375mm) {\includegraphics[width=15.81mm]{\eafitlogo}};
			
			\end{tikzpicture}
			
			
		\end{beamercolorbox}
	

		\fi
	\fi
}

\mode
<all>
